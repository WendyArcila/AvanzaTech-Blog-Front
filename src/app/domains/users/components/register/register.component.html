<div class="relative overflow-hidden">
  <app-header />
  <div class="container mx-auto">
    <div class="flex justify-center items-center">
      <img
      class="flex-auto max-w-xs sm:max-w-xs md:max-w-xs lg:max-w-36 pt-4"
      src="/assets/img/logo1.png"
      alt="logo"
      />
    </div>

    <div class="flex items-center justify-center">
      <form [formGroup]="form" (ngSubmit)="save()" class="relative z-20 w-full max-w-xl mx-auto rounded-lg p-4 shadow-2xl">
        <div>
          <div class="relative space-y-3">
            <label for="email" class="block font-medium text-base" >Email</label>
            <input
              [ngClass]="{' border-red-600': email?.invalid && email?.touched }"
              #emailInput
              formControlName="email"
              placeholder="Enter email"
              type="email"
              class="w-full rounded text-base bg-gray-100 border-gray-900 border-2  focus:border-lime-300 focus:border-4  p-2"
            />
          </div>
          <div *ngIf="duplicateEmail() === true && email?.valid">
            <p
            class="font-medium text-red-500 text-s mt-1 ml-1"
          >
            This email already exists
          </p>
          </div>
          <div *ngIf="email?.touched && email?.invalid">
            <p
              *ngIf="email?.hasError('required')"
              class="font-medium text-red-500 text-s mt-1 ml-1"
            >
              This field is mandatory
            </p>
            <p
              *ngIf="email?.hasError('email')"
              class="font-medium text-red-500 text-s mt-1 ml-1"
            >
              This field should be an email
            </p>
          </div>
        </div>
        <div>
          <div class="relative space-y-3">
            <label for="email" class="block font-medium mt-4 text-base">Nick Name</label>
            <input
              #nick_nameInput
              [ngClass]="{' border-red-600': nick_name?.invalid && nick_name?.touched }"
              formControlName="nick_name"
              placeholder="Enter nick name"
              type="text"
              class="w-full rounded text-base bg-gray-100 border-gray-900 border-2  focus:border-lime-300 focus:border-4  p-2"
            />
          </div>
          <div *ngIf="nick_name?.touched && nick_name?.invalid">
            <p
              *ngIf="nick_name?.hasError('required')"
              class="font-medium text-red-500 text-s  mt-1 ml-1"
            >
              This field is mandatory
            </p>
            <p
              *ngIf="nick_name?.hasError('maxLength')"
              class="font-medium text-red-500 text-s  mt-1 ml-1"
            >
              Max size must be 10 characters long
            </p>

          </div>
        </div>

        <div>
          <div class="relative space-y-3">
            <label for="password" class="block font-medium mt-4 text-base">Password</label>
            <input
              [type]="changeType?'password':'text'"
              [ngClass]="{' border-red-600': password?.invalid && password?.touched }"
              formControlName="password"
              placeholder="Enter password"
              class="w-full rounded text-base bg-gray-100 border-gray-900 border-2  focus:border-lime-300 focus:border-4  p-2"
            />
            <button mat-icon-button matSuffix (click)="viewpass()"  [attr.aria-label]="'Hide password'" [attr.aria-pressed]="visible" class="absolute right-4 top-1/2 transform -translate-y-1/2">
              <mat-icon>{{visible ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
          </div>
          <div *ngIf="password?.touched && password?.invalid">
            <p
              *ngIf="password?.hasError('required')"
              class="font-medium text-red-500 text-s mt-1 ml-1"
            >
              This field is mandatory
            </p>
            <p
              *ngIf="password?.hasError('minlength')"
              class="font-medium text-red-500 text-s mt-1 ml-1"
            >
              This field should be greater than 6 characters
            </p>
          </div>

        </div>

        <div>
          <div class="relative space-y-3">
            <label for="confirmPassword"  class="block font-medium mt-4 text-base" >Confirm Password</label>
            <input
              [type]="changeTypeConf?'password':'text'"
              [ngClass]="{' border-red-600': form.invalid && confirmPassword?.touched }"
              formControlName="confirmPassword"
              placeholder="Confirm password"
              class="w-full rounded text-base bg-gray-100 border-gray-900 border-2  focus:border-lime-300 focus:border-4  p-2"
            />
            <button mat-icon-button matSuffix (click)="viewConfPass()"  class="absolute right-4 top-1/2 transform -translate-y-1/2">
              <mat-icon>{{visibleConf ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
          </div>
          <div *ngIf="confirmPassword?.touched && form.invalid">
            <p
            *ngIf="confirmPassword?.hasError('required')"
            class="font-medium text-red-500 text-s mt-1 ml-1"
          >
            This field is mandatory
          </p>
            <p
            *ngIf="form?.hasError('match_password')"
            class="font-medium text-red-500 text-s mt-1 ml-1"
          >
          Passwords are not the same
          </p>
        </div>
      </div>

        <div class="flex justify-center gap-4">
          <app-btn [typeBtn]="'submit'" [color]="'green'">Register</app-btn>
          <app-btn [typeBtn]="'button'" [color]="'red'" (click)="resetForm()">Cancel</app-btn>
        </div>
        <div  class="mx-auto text-s text-center">
          <p>Have an account? <a routerLink="/login" class="font-medium  hover:text-lime-500 text-gray-500">Login </a></p>
        </div>
      </form>

    </div>
  </div>
</div>


